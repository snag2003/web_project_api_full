{"ast":null,"code":"import _classCallCheck from\"/Users/stephanyacosta/Desktop/Practicum Projects/web_project_api_full/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/stephanyacosta/Desktop/Practicum Projects/web_project_api_full/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this.baseUrl=options.baseUrl;this.headers=options.headers;}_createClass(Api,[{key:\"_handleResponse\",value:function _handleResponse(res){if(!res.ok){var errorMessage=\"Error: \".concat(res.status);throw new Error(errorMessage);}return res.json();}},{key:\"_handleRequest\",value:function _handleRequest(url,method){var _this=this;var body=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var requestOptions={method:method,headers:this.headers,body:body?JSON.stringify(body):null};return fetch(\"\".concat(this.baseUrl).concat(url),requestOptions).then(function(response){return _this._handleResponse(response);}).catch(function(error){console.log(error);});}},{key:\"getInitialCards\",value:function getInitialCards(){return this._handleRequest(\"/cards\",\"GET\");}},{key:\"getUserInfo\",value:function getUserInfo(){return this._handleRequest(\"/users/me\",\"GET\");}},{key:\"editUserInfo\",value:function editUserInfo(data){return this._handleRequest(\"/users/me\",\"PATCH\",{name:data.name,about:data.about});}},{key:\"editAvatar\",value:function editAvatar(avatar){return this._handleRequest(\"/users/me/avatar\",\"PATCH\",{avatar:avatar});}},{key:\"postNewCard\",value:function postNewCard(card){return this._handleRequest(\"/cards\",\"POST\",{name:card.name,link:card.link});}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._handleRequest(\"/cards/\".concat(cardId),\"DELETE\");}},{key:\"setCardIcons\",value:function setCardIcons(){return this._handleRequest(\"/users/me\",\"GET\");}},{key:\"cardLiked\",value:function cardLiked(cardId){return this._handleRequest(\"/cards/likes/\".concat(cardId),\"PUT\");}},{key:\"cardUnliked\",value:function cardUnliked(cardId){return this._handleRequest(\"/cards/likes/\".concat(cardId),\"DELETE\");}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){return this._handleRequest(\"/cards/likes/\".concat(cardId),isLiked?\"PUT\":\"DELETE\");}}]);return Api;}();var api=new Api({baseUrl:\"https://api.stephanydev.justlearning.net\"});export default api;","map":{"version":3,"names":["Api","options","_classCallCheck","baseUrl","headers","_createClass","key","value","_handleResponse","res","ok","errorMessage","concat","status","Error","json","_handleRequest","url","method","_this","body","arguments","length","undefined","requestOptions","JSON","stringify","fetch","then","response","catch","error","console","log","getInitialCards","getUserInfo","editUserInfo","data","name","about","editAvatar","avatar","postNewCard","card","link","deleteCard","cardId","setCardIcons","cardLiked","cardUnliked","changeLikeCardStatus","isLiked","api"],"sources":["/Users/stephanyacosta/Desktop/Practicum Projects/web_project_api_full/frontend/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _handleResponse(res) {\n    if (!res.ok) {\n      const errorMessage = `Error: ${res.status}`;\n      throw new Error(errorMessage);\n    }\n    return res.json();\n  }\n\n  _handleRequest(url, method, body = null) {\n    const requestOptions = {\n      method,\n      headers: this.headers,\n      body: body ? JSON.stringify(body) : null,\n    };\n\n    return fetch(`${this.baseUrl}${url}`, requestOptions)\n      .then((response) => this._handleResponse(response))\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  getInitialCards() {\n    return this._handleRequest(\"/cards\", \"GET\");\n  }\n\n  getUserInfo() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n\n  editUserInfo(data) {\n    return this._handleRequest(\"/users/me\", \"PATCH\", {\n      name: data.name,\n      about: data.about,\n    });\n  }\n\n  editAvatar(avatar) {\n    return this._handleRequest(\"/users/me/avatar\", \"PATCH\", {\n      avatar: avatar,\n    });\n  }\n\n  postNewCard(card) {\n    return this._handleRequest(\"/cards\", \"POST\", {\n      name: card.name,\n      link: card.link,\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._handleRequest(`/cards/${cardId}`, \"DELETE\");\n  }\n\n  setCardIcons() {\n    return this._handleRequest(\"/users/me\", \"GET\");\n  }\n\n  cardLiked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"PUT\");\n  }\n\n  cardUnliked(cardId) {\n    return this._handleRequest(`/cards/likes/${cardId}`, \"DELETE\");\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return this._handleRequest(\n      `/cards/likes/${cardId}`,\n      isLiked ? \"PUT\" : \"DELETE\"\n    );\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://api.stephanydev.justlearning.net\",\n});\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}